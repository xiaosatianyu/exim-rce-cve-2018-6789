#!/usr/bin/env bash

sudo docker ps -a | grep myexim | awk '{ print $1; }' | xargs sudo docker rm -f 2>/dev/null
# 创建image
# -t  表示制作的tag，一个镜像可以有多个标签
# . 表示使用当前目录中的dockerfile
# -t name:tag 表示镜像的名字和标签
sudo docker build -t myexim . 

# 创建容器
# -v 表示路径映射
# --name 表示container名称
sudo docker run -v $(pwd):/transfer --name myexim --cap-add=SYS_PTRACE --security-opt seccomp=unconfined -d -p 25:25 -i -t myexim

# 进入容器
sudo docker exec -it myexim /bin/bash

